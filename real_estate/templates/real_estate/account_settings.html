{% extends 'base.html' %}

{% block title %}Account Settings{% endblock %}

{% block content %}
<main class="account-settings-container">
  <aside class="sidebar">
    <h2>Account Settings</h2>
    <ul>
      <li><a href="#personal-details">Personal Details</a></li>
      <li><a href="#settings">Settings</a></li>
    </ul>
  </aside>
  <section class="account-content">
    <div id="personal-details" class="section">
      <h3>Personal Details</h3>
      <form method="post" action="{% url 'account_settings' %}">
        {% csrf_token %}
        {{ profile_form.non_field_errors }}
        {{ profile_form.name.errors }}
        <label for="id_name">Name:</label>
        {{ profile_form.name }}
        
        {{ profile_form.email.errors }}
        <label for="id_email">Email:</label>
        {{ profile_form.email }}
        
        {{ profile_form.address.errors }}
        <label for="id_address">Address:</label>
        {{ profile_form.address }}
        
        {{ profile_form.telephone.errors }}
        <label for="id_telephone">Telephone:</label>
        {{ profile_form.telephone }}
        
        <button type="submit" name="update_profile">Save Changes</button>
      </form>
    </div>

    <div id="settings" class="section">
      <h3>Settings</h3>
      <form method="post" action="{% url 'account_settings' %}">
        {% csrf_token %}
        {{ password_form.non_field_errors }}
        {{ password_form.old_password.errors }}
        <label for="id_old_password">Old Password:</label>
        {{ password_form.old_password }}
        
        {{ password_form.new_password1.errors }}
        <label for="id_new_password1">New Password:</label>
        {{ password_form.new_password1 }}
        
        {{ password_form.new_password2.errors }}
        <label for="id_new_password2">Confirm New Password:</label>
        {{ password_form.new_password2 }}
        
        <button type="submit" name="change_password">Change Password</button>
      </form>
    </div>
    
    <div id="delete-account" class="section">
      <h3>Delete Account</h3>
      <form method="post" action="{% url 'account_settings' %}" class="delete-account-form">
        {% csrf_token %}
        {{ delete_form.non_field_errors }}
        {{ delete_form.confirm_delete.errors }}
        <label for="id_confirm_delete">Confirm Delete:</label>
        {{ delete_form.confirm_delete }}
        
        <button type="submit" name="delete_account" class="delete-account-button">Delete Account</button>
      </form>
    </div>
  </section>
</main>
{% endblock %}
