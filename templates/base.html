<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Elysium Real Estate{% endblock %}</title>
    {% load static %}
    <link href="{% static 'css/style.css' %}" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200..900&display=swap" rel="stylesheet">
</head>
<body>
    {% url 'account_login' as login_url %}
    {% url 'account_signup' as signup_url %}
    {% url 'account_logout' as logout_url %}
    <header class="header">
        <a href="{% url 'home' %}" class="logo">
            <div class="logo-container">
                <h1>Elysium</h1>
                <i class="fa-solid fa-house-chimney" style="color: #ffffff;"></i>
            </div>
        </a>
        {% if user.is_authenticated %}
            <div class="my-account-btn-container">
                <a class="nav-link" id="my-account-btn" href="#">My Account</a>
            </div>
            <div class="user-icon-container">
                <i class="fa-solid fa-user" id="user-icon"></i>
            </div>
        {% endif %}
        <input class="side-menu" type="checkbox" id="side-menu">
        <label class="hamb" for="side-menu"><span class="hamb-line"><i class="fas fa-bars"></i></span></label>
        <nav class="nav">
            <ul class="menu">
                <li><a href="{% url 'home' %}" aria-label="Return to the homepage">Home</a></li>
                <li class="dropdown">
                    <a href="#" aria-label="View properties for sale">Buy</a>
                    <ul class="dropdown-menu">
                        <li><a href="{% url 'property_sale' %}">Property for Sale</a></li>
                        <li><a href="{% url 'view_land' %}">Land for Sale</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" aria-label="View rental properties">Rent</a>
                    <ul class="dropdown-menu">
                        <li><a href="{% url 'property_rent' %}">Property to Rent</a></li>
                        <li><a href="{% url 'student_property' %}">Student Accommodation</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" aria-label="View useful resources and information">Resources</a>
                    <ul class="dropdown-menu">
                        <li><a href="{% url 'property_guides_list' %}">Property Guides</a></li>
                        <li><a href="{% url 'blog_list' %}">Blogs</a></li>
                        <li><a href="{% url 'homelessness_advice_list' %}">Homelessness Advice</a></li>
                        <li><a href="{% url 'testimonials_list' %}">Testimonials</a></li>
                        <li><a href="{% url 'faq_list' %}">FAQ</a></li>
                        <li><a href="{% url 'mortgage_calculator' %}">Mortgage Calculator</a></li>
                    </ul>
                </li>
                <li><a href="{% url 'home' %}#contact" aria-label="View our contact information">Contact</a></li>
                {% if not user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == signup_url %}active{% endif %}" aria-current="page" href="{% url 'account_signup' %}">Register</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == login_url %}active{% endif %}" aria-current="page" href="{% url 'account_login' %}">Login</a></li>
                {% endif %}
            </ul>
        </nav>
    </header>

    {% block banner %}
    {% if user.is_authenticated %}
        <div class="banner-container">
            <div class="banner-content">
                <img src="{% static 'images/banner-elysium.webp' %}" alt="Banner Image" class="banner-image">
                <div class="welcome-box">
                    <p>Welcome back, {{ user.username }}!</p>
                </div>
            </div>
        </div>
    {% endif %}
    {% endblock %}

    <div id="my-account-sidebar" class="sidebar">
        <h2 class="sidebar-header">Elysium <i class="fa-solid fa-house-chimney" style="color: #5f5c4e;"></i></h2>
        <span id="close-sidebar" class="close">&times;</span>
        <p class="sidebar-username">{{ user.username }}</p>
        <ul class="sidebar-menu">
            <li><a href="{% url 'view_favorites' %}"><i class="fa-solid fa-star" style="color: #5f5c4e;"></i> Saved Properties</a></li>
            <li><a href="{% url 'view_pending_viewings' %}"><i class="fa-solid fa-calendar-alt" style="color: #5f5c4e;"></i> View Pending Viewings</a></li>
        </ul>
        <hr>
        <ul class="sidebar-menu">
            <li><a href="{% url 'account_settings' %}"><i class="fa-solid fa-gears"></i> Account Settings</a></li>
            <li><a href="{% url 'account_logout' %}"><i class="fa-solid fa-right-from-bracket"></i> Sign Out</a></li>
        </ul>
    </div>

    <div class="main-content">
        {% block content %}{% endblock %}
        {% block filters %}
        {% endblock %}
        {% block home_text %}{% endblock %}
        {% block sale_text %}{% endblock %}
        {% block rental_text %}{% endblock %}
        {% block student_text %}{% endblock %}
    </div>

    <section class="before-moving-section">
        <h2>Before you get moving</h2>
        <div class="boxes-container">
            <div class="box">
                <img src="{% static 'images/calculator.webp' %}" alt="Calculator Image">
                <h3>Check how much you can borrow</h3>
                <p>Check how much you can borrow without impacting your credit score.</p>
                <a href="{% url 'mortgage_calculator' %}"><button>Get a mortgage in principle</button></a>
            </div>
            <div class="box">
                <img src="{% static 'images/property_guides.webp' %}" alt="Guides Image">
                <h3>Property guides</h3>
                <p>A must have read for anyone looking for a property.</p>
                <a href="{% url 'property_guides_list' %}"><button>View our property guides</button></a>
            </div>
        </div>
    </section>
    
    <section class="useful-resources-section">
        <h2>Useful resources</h2>
        <div class="boxes-container">
            <div class="box">
                <img src="{% static 'images/blog.webp' %}" alt="Blog Image">
                <h3>Blog</h3>
                <p>See the latest articles.</p>
                <a href="{% url 'blog_list' %}"><button>View blog</button></a>
            </div>
            <div class="box">
                <img src="{% static 'images/homeless.webp' %}" alt="Homeless Image">
                <h3>Need support?</h3>
                <p>If you're concerned about becoming homeless or need homelessness advice.</p>
                <a href="{% url 'homelessness_advice_list' %}"><button>Find homeless support</button></a>
            </div>
            <div class="box">
                <img src="{% static 'images/faq.webp' %}" alt="FAQ Image">
                <h3>Need a question answered</h3>
                <p>Get help from the Elysium community.</p>
                <a href="{% url 'faq_list' %}"><button>FAQ</button></a>
            </div>
        </div>
    </section>

    <section class="housing-section">
        <h2>Housing</h2>
        <div class="boxes-container">
            <div class="box">
                <img src="{% static 'images/land.webp' %}" alt="Land Image">
                <h3>Land</h3>
                <p>Explore available land for sale.</p>
                <a href="{% url 'view_land' %}"><button>View Land</a></button></a>
            </div>
            <div class="box">
                <img src="{% static 'images/student.webp' %}" alt="Student Accommodation Image">
                <h3>Student Accommodation</h3>
                <p>Find the perfect student accommodation.</p>
                <a href="{% url 'student_property' %}"><button>View Student Accommodation</button></a>
            </div>
            <div class="box">
                <img src="{% static 'images/repairs.webp' %}" alt="Repairs Image">
                <h3>Repairs</h3>
                <p>Request and manage property repairs.</p>
                <a href="{% url 'repairs' %}"><button>Request Repairs</button></a>
            </div>
            <div class="box">
                <img src="{% static 'images/fire.webp' %}" alt="Fire Safety Image">
                <h3>Fire Safety</h3>
                <p>Learn about fire safety regulations.</p>
                <a href="{% url 'fire_safety' %}"><button>Learn Fire Safety</button></a>
            </div>
            <div class="box">
                <img src="{% static 'images/complaints.webp' %}" alt="Complaints Image">
                <h3>Complaints</h3>
                <p>File a complaint regarding housing issues.</p>
                <a href="{% url 'complaints' %}"><button>File a Complaint</button></a>
            </div>
            <div class="box">
                <img src="{% static 'images/eviction.webp' %}" alt="Eviction Image">
                <h3>Eviction</h3>
                <p>Understand your rights and get help with evictions.</p>
                <a href="{% url 'eviction' %}"><button>Get Eviction Help</button></a>
            </div>
        </div>
    </section>

    <!-- Modal for messages -->
    <div id="messageModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <p id="modalMessage"></p>
        </div>
    </div>

    <!-- Modal for scheduling a viewing -->
    <div id="viewingModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Viewing</h2>
            <form id="custom-viewing-form" method="post" action="{% url 'request_custom_viewing' 0 %}" data-property-id="0">
                {% csrf_token %}
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
                <label for="contact">Contact:</label>
                <input type="text" id="contact" name="contact" required>
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                <label for="preferred_date">Preferred Date:</label>
                <input type="date" id="preferred_date" name="preferred_date" required>
                <label for="preferred_time">Preferred Time:</label>
                <input type="time" id="preferred_time" name="preferred_time" required>
                <label for="message">Message:</label>
                <textarea id="message" name="message" required></textarea>
                <button type="submit">Request Viewing</button>
            </form>
        </div>
    </div>

    <!-- Pagination Section -->
    <section class="pagination-section">
        {% block pagination %}
            {% if page_obj.has_other_pages %}
                <div class="pagination-controls">
                    {% if page_obj.has_previous %}
                        <a href="?page=1" class="page-link">&laquo; First</a>
                        <a href="?page={{ page_obj.previous_page_number }}" class="page-link">Previous</a>
                    {% endif %}
                    <span class="current">
                        Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
                    </span>
                    {% if page_obj.has_next %}
                        <a href="?page={{ page_obj.next_page_number }}" class="page-link">Next</a>
                        <a href="?page={{ page_obj.paginator.num_pages }}" class="page-link">Last &raquo;</a>
                    {% endif %}
                </div>
            {% endif %}
        {% endblock %}
    </section>

    <footer>
        <div class="footer-menu">
            <ul>
                <li><a href="{% url 'property_sale' %}">Buy</a></li>
                <li><a href="{% url 'property_rent' %}">Rent</a></li>
                <li><a href="{% url 'property_guides_list' %}">Property Guides</a></li>
                <li><a href="{% url 'blog_list' %}">Blogs</a></li>
                <li><a href="{% url 'homelessness_advice_list' %}">Homelessness Advice</a></li>
                <li><a href="{% url 'testimonials_list' %}">Testimonials</a></li>
                <li><a href="{% url 'faq_list' %}">FAQ</a></li>
                <li><a href="{% url 'mortgage_calculator' %}">Mortgage Calculator</a></li>
            </ul>
        </div>
        <ul id="social-media">
            <li><a href="https://www.facebook.com/" target="_blank" rel="noopener" aria-label="Visit our Facebook page (opens in a new tab)"><i class="fa-brands fa-facebook" style="color: #ffffff;"></i></a></li>
            <li><a href="https://www.twitter.com/" target="_blank" rel="noopener" aria-label="Visit our Twitter page (opens in a new tab)"><i class="fa-brands fa-twitter-square" style="color: #ffffff;"></i></a></li>
            <li><a href="https://www.youtube.com/" target="_blank" rel="noopener" aria-label="Visit our YouTube page (opens in a new tab)"><i class="fa-brands fa-youtube-square" style="color: #ffffff;"></i></a></li>
            <li><a href="https://www.instagram.com/" target="_blank" rel="noopener" aria-label="Visit our Instagram page (opens in a new tab)"><i class="fa-brands fa-instagram" style="color: #ffffff;"></i></a></li>
        </ul>
        <p>&copy; 2024 Elysium Ltd. All Rights Reserved. | Designed by David Hitchen Ltd<br>
        Address: Elysium Real Estate: 1 Elysium Pl, London W1E LS | Tel: 02045135208 | Email: info@elysium.co.uk
        </p>
    </footer>

    <script src="https://kit.fontawesome.com/3b20d96fa9.js" crossorigin="anonymous"></script>
    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>